import{s as W,V as G,_ as X,a as J,b as K,c as Q}from"./ChannelList.ae5279bc.js";import{_ as v,d as Y,w as P,r as O,u as Z,a as h,i as ee,b as te,c as i,e as oe,f as ne,t as ae,g as M,h as le,j as T,o as R,k as se,l as g,m as y,n as F,p as z,q as re,s as m,v as ue,x as ie,y as ce}from"./index.22b22ae2.js";import{b as pe,_ as de}from"./utils.43bedd54.js";import{o as E}from"./index.1921a2e7.js";import{_ as _e}from"./index.60d77de9.js";import"./FormItemContext.655a09d6.js";var V=function(){return null};V.isSelectOption=!0;V.displayName="AAutoCompleteOption";var S=V,j=function(){return null};j.isSelectOptGroup=!0;j.displayName="AAutoCompleteOptGroup";var N=j;function fe(s){var e,a;return((e=s==null?void 0:s.type)===null||e===void 0?void 0:e.isSelectOption)||((a=s==null?void 0:s.type)===null||a===void 0?void 0:a.isSelectOptGroup)}var ve=function(){return v(v({},E(W(),["loading","mode","optionLabelProp","labelInValue"])),{dataSource:Array,dropdownMenuStyle:{type:Object,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},prefixCls:String,showSearch:{type:Boolean,default:void 0},transitionName:String,choiceTransitionName:{type:String,default:"zoom"},autofocus:{type:Boolean,default:void 0},backfill:{type:Boolean,default:void 0},filterOption:{type:[Boolean,Function],default:!1},defaultActiveFirstOption:{type:Boolean,default:!0}})},k=Y({name:"AAutoComplete",inheritAttrs:!1,props:ve(),slots:["option"],setup:function(e,a){var n=a.slots,_=a.attrs,f=a.expose;P(!("dataSource"in n),"AutoComplete","`dataSource` slot is deprecated, please use props `options` instead."),P(!("options"in n),"AutoComplete","`options` slot is deprecated, please use props `options` instead.");var p=O(),w=function(){var o,c=ne((o=n.default)===null||o===void 0?void 0:o.call(n)),r=c.length?c[0]:void 0;return r},A=function(){var o;(o=p.value)===null||o===void 0||o.focus()},L=function(){var o;(o=p.value)===null||o===void 0||o.blur()};f({focus:A,blur:L});var x=Z("select",e),l=x.prefixCls;return function(){var t,o,c,r,C=e.size,b=e.dataSource,d=e.notFoundContent,q=d===void 0?(o=n.notFoundContent)===null||o===void 0?void 0:o.call(n):d,B,$=_.class,D=(t={},h(t,$,!!$),h(t,"".concat(l.value,"-lg"),C==="large"),h(t,"".concat(l.value,"-sm"),C==="small"),h(t,"".concat(l.value,"-show-search"),!0),h(t,"".concat(l.value,"-auto-complete"),!0),t);if(e.options===void 0){var I=((c=n.dataSource)===null||c===void 0?void 0:c.call(n))||((r=n.options)===null||r===void 0?void 0:r.call(n))||[];I.length&&fe(I[0])?B=I:B=b?b.map(function(u){if(ee(u))return u;switch(te(u)){case"string":return i(S,{key:u,value:u},{default:function(){return[u]}});case"object":return i(S,{key:u.value,value:u.value},{default:function(){return[u.text]}});default:throw new Error("AutoComplete[dataSource] only supports type `string[] | Object[]`.")}}):[]}var H=E(v(v(v({},e),_),{mode:G.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:w,notFoundContent:q,class:D,ref:p}),["dataSource","loading"]);return i(G,H,oe({default:function(){return[B]}},E(n,["default","dataSource","options"])))}}}),me=v(k,{Option:S,OptGroup:N,install:function(e){return e.component(k.name,k),e.component(S.displayName,S),e.component(N.displayName,N),e}});const he={class:"search-box"},ge={style:{display:"flex","justify-content":"space-between"}},ye={target:"_blank",rel:"noopener noreferrer"},Se={key:0},Ce={name:"Header",props:{iptvListAll:{type:Array,required:!0}},setup(s){const e=s,{iptvListAll:a}=ae(e),n=M(),_=O(""),f=O([]);le();const p=O(n.state.searchResultInfo);T(p,l=>n.commit("addSearchResultInfo",l));const w=l=>{p.value=a.value.filter(t=>t.name.toLowerCase()===l.toLowerCase())},A=l=>a.value.filter(t=>t.name.toLowerCase().startsWith(l.toLowerCase())),L=l=>{const t=A(l.trim());let o;return t.length>10?o=10:o=t.length,new Array(o).join(".").split(".").map((c,r)=>({id:r,value:`${t[r]?t[r].name:"\u7CBE\u786E\u5339\u914D\u627E\u4E0D\u5230\u5662~"}`,count:t.length}))},x=l=>{l==""&&n.commit("deleteSearchResultInfo"),f.value=l?L(l):[]};return(l,t)=>{const o=_e,c=me,r=X,C=J,b=de;return R(),se(b,{style:{border:"1px solid rgb(235, 237, 240)"},title:"Home","sub-title":"Welcome to IPTV",id:"app-header",onBack:m(pe)},{extra:g(()=>[y("div",he,[i(C,{class:"global-search-wrapper",style:{width:"300px"}},{default:g(()=>[i(r,{span:24},{default:g(()=>[i(c,{value:_.value,"onUpdate:value":t[0]||(t[0]=d=>_.value=d),"dropdown-match-select-width":252,style:{width:"300px"},options:f.value,onSelect:w,onSearch:x,disabled:!1},{option:g(d=>[y("div",ge,[y("span",null,[y("a",ye,F(d.value),1)]),d.count==0?(R(),z("span",Se,F(d.count)+" results",1)):re("",!0)])]),default:g(()=>[i(o,{size:"large",placeholder:m(a)?"\u672C\u6E90\u9891\u9053\u6570\u91CF  "+m(a).length:"\u9891\u9053\u6570\u91CF  "+0,"enter-button":""},null,8,["placeholder"])]),_:1},8,["value","options"])]),_:1})]),_:1})])]),_:1},8,["onBack"])}}},be={id:"app-home"},Ie={name:"index",setup(s){const e=M(),a=ue(()=>e.state.inptList?e.state.inptList:null);return T(a.value,n=>{console.log(n)}),ie(),ce(()=>{e.dispatch("setIPTVlist",e.state.currentURL),console.log(e.state.inptList)}),(n,_)=>{const f=K,p=Q;return R(),z("div",be,[i(Ce,{iptvListAll:m(a)},null,8,["iptvListAll"]),y("main",null,[i(f,{iptvListAll:m(a),modelName:"main"},null,8,["iptvListAll"]),i(p,{iptvListAll:m(a)},null,8,["iptvListAll"])])])}}};export{Ie as default};
