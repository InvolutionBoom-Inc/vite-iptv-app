import{A as g,a6 as $,a7 as z,an as _}from"./index.8ac7790d.js";import{b as k,I as B}from"./index.738547af.js";import{a as o,C as x,P as A,B as H,D as h,E as m,G as N,F as E,_ as C,J as f,L,I as i,K as I,u as p,r as R,c as F,N as D,a1 as G,e as J}from"./index.97de7c8d.js";var T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},q=T;function U(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.forEach(function(r){Q(n,r,t[r])})}return n}function Q(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var b=function(e,t){var a=U({},e,t.attrs);return o(g,U({},a,{icon:q}),null)};b.displayName="CopyOutlined";b.inheritAttrs=!1;var W=b,X={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},Y=X;function S(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.forEach(function(r){Z(n,r,t[r])})}return n}function Z(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var O=function(e,t){var a=S({},e,t.attrs);return o(g,S({},a,{icon:Y}),null)};O.displayName="DeleteOutlined";O.inheritAttrs=!1;var j=O,K={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},ee=K;function P(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},a=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),a.forEach(function(r){te(n,r,t[r])})}return n}function te(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var y=function(e,t){var a=P({},e,t.attrs);return o(g,P({},a,{icon:ee}),null)};y.displayName="DownloadOutlined";y.inheritAttrs=!1;var ne=y,ae="/vite-iptv-app/icons/iptv-profiles.png";const re=["onClick"],oe=["onClick"],le={name:"SubscribeShowCard",props:{channelURL:Array},setup(n){const e=x();A();const t=H(),a=s=>{e.push({name:"Home",params:{url:s}}),t.commit("updateCurrentURL",s)},r=s=>{t.commit("deleteURL",s)};return(s,w)=>{const l=$,u=z;return h(!0),m(E,null,N(n.channelURL,(c,d)=>(h(),m("div",{key:n.channelURL,class:"showURL",onClick:C(v=>a(c.url),["self"])},[f("a",{onClick:C(v=>a(c.url),["self"])}," \u6E90"+L(d+1)+" :"+L(c.url.split("/")[c.url.split("/").length-1]),9,oe),o(l,{title:c.status===!0?"url ok":"url do not use"},{default:i(()=>[f("div",{class:I(["url-status",c.status===!0?"success":"error"])},null,2)]),_:2},1032,["title"]),o(u,{size:"large",onClick:v=>r(c)},{icon:i(()=>[o(p(j))]),_:2},1032,["onClick"])],8,re))),128)}}};const ce={id:"app-subscribe"},se=f("img",{src:ae},null,-1),ue={href:"https://github.com/iptv-org/iptv",target:"_blank"},ie=J(" Download "),de={class:"show-url-box"},_e={name:"index",setup(n){const e=H();x();const t=R(""),a=()=>{t.value=""},r=R(!1),s=async()=>{if(t.value!=""){try{r.value=!0;const l=await D(t.value);e.state.channelURL.find(u=>u.url===t.value)!=null?_.info("Channel already exists"):(e.commit("updateChannelURL",{url:t.value,state:"true"}),_.success("Add Channel successful"))}catch(l){_.error(l.message)}r.value=!1}},w=F(()=>{if(e.state.channelURL.length>0)return e.state.channelURL.forEach(async l=>{try{const u=await D(l.url);l.status=!0}catch{l.status=!1}}),e.state.channelURL});return(l,u)=>{const c=B,d=z,v=$,V=k;return h(),m("div",ce,[se,o(V,{compact:""},{default:i(()=>[o(c,{value:t.value,"onUpdate:value":u[0]||(u[0]=M=>t.value=M),size:"large",placeholder:"Download from a URL",class:"input",onKeyup:G(s,["enter"])},null,8,["value","onKeyup"]),o(v,{title:"please copy git url"},{default:i(()=>[o(d,{size:"large"},{icon:i(()=>[f("a",ue,[o(p(W))])]),_:1})]),_:1}),o(d,{size:"large",onClick:a},{icon:i(()=>[o(p(j))]),_:1}),o(d,{type:"primary",size:"large",class:"download",style:{background:"#4285f4"},onClick:s,loading:r.value},{icon:i(()=>[o(p(ne))]),default:i(()=>[ie]),_:1},8,["loading"])]),_:1}),f("div",de,[o(le,{channelURL:p(w)},null,8,["channelURL"])])])}}};export{_e as default};
